{% extends "base.html" %}
{% load static tailwind_tags %}
{% load widget_tweaks %}
{% load static %}


<!-- !Css -->
{% block css %}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/css/intlTelInput.css"1/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/intlTelInput.min.js"></script>
{% endblock css %}

<!-- !Title -->
<title>{% block title %} Book {% endblock title %}</title>



<!-- *Child Component -->
    {% block content %}
        <div id="register_login">
            <section class="dark:bg-gray-900">
                <div class="container flex items-center justify-center mt-5 px-6 mx-auto">
                    <form class="w-full max-w-md"  @submit.prevent="registerForm">
                        <div class="flex justify-center mx-auto">
                            <img class="w-auto h-7 sm:h-8" src="{% static 'images/share.png' %}" alt="">
                        </div>

                        <div class="flex items-center justify-center mt-6">
                            <a href="#"
                                class="w-1/3 pb-4 font-medium text-center text-gray-500 capitalize border-b dark:border-gray-400 dark:text-gray-300">
                                sign in
                            </a>

                            <a href="#"
                                class="w-1/3 pb-4 font-medium text-center text-gray-800 capitalize border-b-2 border-blue-500 dark:border-blue-400 dark:text-white">
                                sign up
                            </a>
                        </div>


                        <div class="relative flex items-center mt-6">
                            <div class="grid grid-cols-6 w-full px-6 py-3 text-sm font-medium tracking-wide rounded-lg"
                                style="background-color: #F2F0FA;">
                                <div class="col-span-1">
                                    <img src="{% static 'images/price-tag.png' %}" alt="">
                                </div>
                                <div class="col-span-5 text-center mt-2">
                                    <span>Special 10$ Discount Coupon for New Members!</span>
                                </div>
                            </div>
                        </div>

                        <!-- !First Name and Last Name -->
                        <div class="relative items-center mt-8 grid grid-cols-2 gap-4">
                            <input type="text" v-model="first_name" ref="first_name"
                                class="block w-full py-3 text-gray-700 bg-white border rounded-lg px-6 dark:bg-gray-900 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 dark:focus:border-blue-300 focus:ring-blue-300 focus:outline-none focus:ring focus:ring-opacity-40"
                                placeholder="First Name">
                            <input type="text" v-model="last_name" ref="last_name"
                                class="block w-full py-3 text-gray-700 bg-white border rounded-lg px-6 dark:bg-gray-900 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 dark:focus:border-blue-300 focus:ring-blue-300 focus:outline-none focus:ring focus:ring-opacity-40"
                                placeholder="Last Name">
                        </div>


                        <!-- !Gender -->
                        <div class="relative items-center mt-8">
                            <label class="text-gray-700 dark:text-gray-300 fw-bold mb-2 ml-1">Gender (Optional)</label>
                            <div class="flex gap-4">
                                <button type="button" @click="handleGender('Female')" ref="female"
                                    class="block w-full py-3 text-gray-700 border rounded-lg px-6 dark:bg-gray-900 dark:text-gray-300 dark:border-gray-600">Female</button>
                                <button type="button"  @click="handleGender('Male')" ref="male"
                                    class="block w-full py-3 text-gray-700 border rounded-lg px-6 dark:bg-gray-900 dark:text-gray-300 dark:border-gray-600">Male</button>
                            </div>
                        </div>

                        <!-- !Account Type -->
                        <div class="relative items-center mt-8">
                            <label class="text-gray-700 dark:text-gray-300 fw-bold mb-2 ml-1">Account Type (Optional)</label>
                            <div class="flex gap-4">
                                <button type="button" @click="handleAccountType('Buyer')" ref="buyer"
                                    class="block w-full py-3 text-gray-700 border rounded-lg px-6 dark:bg-gray-900 dark:text-gray-300 dark:border-gray-600">Buyer</button>
                                <button type="button" @click="handleAccountType('Seller')" ref="seller"
                                    class="block w-full py-3 text-gray-700 border rounded-lg px-6 dark:bg-gray-900 dark:text-gray-300 dark:border-gray-600">Seller</button>
                            </div>
                        </div>

                        <!-- <label for="dropzone-file" class="flex items-center px-3 py-3 mx-auto mt-6 text-center bg-white border-2 border-dashed rounded-lg cursor-pointer dark:border-gray-600 dark:bg-gray-900">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-gray-300 dark:text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12" />
                                    </svg>
                    
                                    <h2 class="mx-3 text-gray-400">Profile Photo</h2>
                    
                                    <input id="dropzone-file" type="file" class="hidden" />
                        </label> -->

                        <!-- !Email -->
                        <div class="relative flex items-center mt-6">
                            <span class="absolute">
                                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 mx-2 text-gray-300 dark:text-gray-500"
                                    fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                                </svg>
                            </span>

                            <input type="text" v-model="email" ref="email"
                                class="block w-full py-3 text-gray-700 bg-white border rounded-lg px-11 dark:bg-gray-900 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 dark:focus:border-blue-300 focus:ring-blue-300 focus:outline-none focus:ring focus:ring-opacity-40"
                                placeholder="Email address">
                        </div>


                        <!-- !Phone -->
                        <div class="relative flex items-center mt-4">
                            <span class="absolute">
                                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 mx-2 text-gray-300 dark:text-gray-500"
                                    fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="M11 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h6zM5 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H5z" />
                                </svg>
                            </span>
                            <input style="width:450px" id="phone" type="tel" name="phone" v-model="phone" ref="phone" 
                                class="block px-10 py-3 text-gray-700 bg-white border rounded-lg dark:bg-gray-900 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 dark:focus:border-blue-300 focus:ring-blue-300 focus:outline-none focus:ring focus:ring-opacity-40"
                                placeholder="Phone Number">
                        </div>


                        <!-- !Password -->
                        <div class="relative flex items-center mt-4">
                            <input :type="showPassword ? 'text' : 'password'" v-model="password" @input="checkPassword" ref="password"
                                class="block w-full px-10 py-3 pr-12 text-gray-700 bg-white border rounded-lg dark:bg-gray-900 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 dark:focus:border-blue-300 focus:ring-blue-300 focus:outline-none focus:ring focus:ring-opacity-40"
                                placeholder="Password">
                            

                            <div v-if="showPassword">
                                <span class="absolute right-0 inset-y-0 flex items-center pr-3 cursor-pointer" @click="toggleShowPassword(type='password')">
                                    <svg class="h-6 text-gray-700" fill="none" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 640 512">
                                        <path fill="currentColor"
                                            d="M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z">
                                        </path>
                                    </svg>         
                                </span>
                            </div>
                            <div v-else>
                                <span class="absolute right-0 inset-y-0 flex items-center pr-3 cursor-pointer" @click="toggleShowPassword(type='password')">
                                    <svg class="h-6 text-gray-700" fill="none" xmlns="http://www.w3.org/2000/svg"
                                        viewbox="0 0 576 512">
                                        <path fill="currentColor"
                                            d="M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z">
                                        </path>
                                    </svg>
                                </span>
                            </div>

                            <span class="absolute">
                                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 mx-2 text-gray-300 dark:text-gray-500"
                                    fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
                                </svg>
                            </span>
                        </div>


                        <!-- !Repassword -->

                        <div class="relative flex items-center mt-4">
                            <input :type="showRepassword ? 'text' : 'password'" v-model="repassword" @input="checkPassword" ref="repassword"
                                class="block w-full px-10 py-3 pr-12 text-gray-700 bg-white border rounded-lg dark:bg-gray-900 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 dark:focus:border-blue-300 focus:ring-blue-300 focus:outline-none focus:ring focus:ring-opacity-40"
                                placeholder="Password">

                            <div v-if="showRepassword">
                                <span class="absolute right-0 inset-y-0 flex items-center pr-3 cursor-pointer" @click="toggleShowPassword(type='repassword')">
                                    <svg class="h-6 text-gray-700" fill="none" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 640 512">
                                        <path fill="currentColor"
                                            d="M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z">
                                        </path>
                                    </svg>         
                                </span>
                            </div>
                            <div v-else>
                                <span class="absolute right-0 inset-y-0 flex items-center pr-3 cursor-pointer" @click="toggleShowPassword(type='repassword')">
                                    <svg class="h-6 text-gray-700" fill="none" xmlns="http://www.w3.org/2000/svg"
                                        viewbox="0 0 576 512">
                                        <path fill="currentColor"
                                            d="M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z">
                                        </path>
                                    </svg>
                                </span>
                            </div>

                            <span class="absolute">
                                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 mx-2 text-gray-300 dark:text-gray-500"
                                    fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
                                </svg>
                            </span>
                        </div>

                        <button @click="getResult">Get validaton result</button>

                        <!-- !Password validation -->
                        <div class="grid grid-cols-1 gap-1 ml-1 mt-2">
                            <div v-if="password != null || repassword != null">
                                <div class="flex items-center">
                                    <div class="w-2 h-2 rounded-full" :class="circleColorLeastEightCharacter"></div>
                                    <span class="ml-2 whitespace-nowrap text-base" :class="textColorLeastEightCharacter">Password must be at least 8 characters long</span>
                                </div>
                                <div class="flex items-center">
                                    <div class="w-2 h-2 rounded-full" :class="circleColorLeastOneUpperCaseCharacter"></div>
                                    <span class="ml-2 whitespace-nowrap text-base" :class="textColorLeastOneUpperCaseCharacter">Password must contain at least one uppercase letter</span>
                                </div>
                                <div class="flex items-center">
                                    <div class="w-2 h-2 rounded-full" :class="circleColorLeastOneLowerCaseCharacter"></div>
                                    <span class="ml-2 whitespace-nowrap text-base" :class="textColorLeastOneLowerCaseCharacter">Password must contain at least one lowercase letter</span>
                                </div>
                                <div class="flex items-center">
                                    <div class="w-2 h-2 rounded-full" :class="circleColorLeastOneNumberCharacter"></div>
                                    <span class="ml-2 whitespace-nowrap text-base" :class="textColorLeastOneNumberCharacter">Password must contain at least one number</span>
                                </div>
                                <div class="flex items-center">
                                    <div class="w-2 h-2 rounded-full" :class="circleColorLeastOneSpecialCharacter"></div>
                                    <span class="ml-2 whitespace-nowrap text-base" :class="textColorLeastOneSpecialCharacter">Password must contain at least one special character</span>
                                </div>
                                <div class="flex items-center">
                                    <div class="w-2 h-2 rounded-full" :class="circleColorMatchPassword"></div>
                                    <span class="ml-2 whitespace-nowrap text-base" :class="textColorMatchPassword">Password must be match</span>
                                </div>

                            </div>

                        </div>

                        <!-- !Membership aggrement -->
                        <div class="flex items-center mt-4">
                            <input type="checkbox" id="termsCheckbox" v-model="isAgree"
                                class="h-5 w-5 text-blue-600 focus:ring-0 focus:outline-none border-gray-300 rounded">
                            <label for="termsCheckbox" class="ml-2 text-gray-700 text-sm dark:text-gray-300 whitespace-nowrap">I
                                have read and accept the terms of the Membership Agreement</label>
                        </div>

                        <!-- !Social media -->
                        <div class="flex items-center justify-between mt-4">
                            <span class="w-1/5 border-b dark:border-gray-600 lg:w-1/5"></span>
                            <a href="#"
                                class="text-xs text-center text-gray-500 uppercase dark:text-gray-400 hover:underline">or
                                login with Social Media</a>
                            <span class="w-1/5 border-b dark:border-gray-400 lg:w-1/5"></span>
                        </div>

                        <div class="flex items-center mt-6 -mx-2">
                            <button style="padding:15px !important" type="button"
                                class="flex items-center justify-center w-full px-5 py-2 mx-2 text-sm font-medium text-white border rounded-lg">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="currentColor"
                                    style="color: #ea4335" viewBox="0 0 24 24">
                                    <path
                                        d="M7 11v2.4h3.97c-.16 1.029-1.2 3.02-3.97 3.02-2.39 0-4.34-1.979-4.34-4.42 0-2.44 1.95-4.42 4.34-4.42 1.36 0 2.27.58 2.79 1.08l1.9-1.83c-1.22-1.14-2.8-1.83-4.69-1.83-3.87 0-7 3.13-7 7s3.13 7 7 7c4.04 0 6.721-2.84 6.721-6.84 0-.46-.051-.81-.111-1.16h-6.61zm0 0 17 2h-3v3h-2v-3h-3v-2h3v-3h2v3h3v2z"
                                        fill-rule="evenodd" clip-rule="evenodd" />
                                </svg>
                            </button>
                            <button style="padding:15px !important" type="button"
                                class="flex items-center justify-center w-full px-5 py-2 mx-2 text-sm font-medium text-white border rounded-lg">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="currentColor" style="color: #333"
                                    viewBox="0 0 24 24">
                                    <path
                                        d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z" />
                                </svg>
                            </button>
                        </div>


                        <!-- !Sign up button and login link -->
                        <div class="mt-6 mb-5">
                            <button 
                                class="w-full px-6 py-3 text-sm font-medium tracking-wide text-white capitalize transition-colors duration-300 transform bg-blue-500 rounded-lg focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-50 disabled:opacity-75">
                                Sign Up
                            </button>

                            <div class="mt-6 text-center">
                                <a href="#" class="text-sm text-blue-500 hover:underline dark:text-blue-400">
                                    Already have an account?
                                </a>
                            </div>
                        </div>
                    </form>
                </div>
            </section>
        </div>
    {% endblock content %}
<!-- *Child Component -->


<!-- !JavaScript -->
{% block scripts %}
    <script src="{% static 'account/register_login.js' %}"></script>
{% endblock scripts %}